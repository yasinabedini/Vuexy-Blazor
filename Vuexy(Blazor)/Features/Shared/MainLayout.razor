@inherits LayoutComponentBase
@inject IJSRuntime jsRuntime
@inject NavigationManager _navigationManager

<!doctype html>

<html lang="en"
      class="light-style layout-navbar-fixed layout-menu-fixed layout-compact"
      dir="ltr"
      data-theme="theme-default"
      data-assets-path="/assets/"
      data-template="vertical-menu-template">
<head>
    <Head>
    </Head>
</head>

<body>
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">
            <Menu></Menu>

            <div class="layout-page">
                <Navbar></Navbar>
                <div class="content-wrapper">
                    <div class="container-xxl flex-grow-1 container-p-y">
                        @Body
                    </div>

                    <Footer></Footer>
                    <div class="content-backdrop fade"></div>
                </div>
            </div>
        </div>
        <div class="layout-overlay layout-menu-toggle"></div>
        <div class="drag-target"></div>
    </div>

    <_Scripts></_Scripts>
</body>
</html>


@code {

    [Inject]
    public IJSRuntime JSRuntime { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "_framework/blazor.server.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/jquery/jquery.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/popper/popper.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/js/bootstrap.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/node-waves/node-waves.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/hammer/hammer.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/i18n/i18n.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/typeahead-js/typeahead.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/js/menu.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/js/menu.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/libs/apex-charts/apexcharts.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/js/jquery.min.js");
            await JSRuntime.InvokeAsync<IJSObjectReference>("import", "/assets/vendor/js/helpers.js");
        }
    }
 
}
